<!DOCTYPE html>

<html lang="en-us">
  <head>
    <meta charset="utf-8" />

    <!-- Title -->
    <title>Friend Finder</title>

    <!-- Responsive Webpage -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Reset CSS -->
    <link rel="stylesheet" href="../css/reset.css" />

    <!-- Bootstrap -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="../css/style.css" />

    <!-- Bootstrap Add-ins-->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>

    <!-- Jquery -->
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Fira+Code|Open+Sans|Roboto&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/f1172acf77.js"></script>
  </head>

  <body>

    
    <div class="container jumbotron survey-header">
      <div class="home">
          <a href="./home.html"><i class="fas fa-home fas-home"></i>Home</a>
      </div>
      <h1 class="text-center">Survey Questions</h1>
      <hr />
      <h3 class="text-center">About You</h3>
      <form class="mt-4">
        <div class="row">
          <!-- Info- Name -->
          <div class="form-group col">
            <label for="firstName">First Name (Required)</label>
            <input
              type="text"
              class="form-control"
              id="firstName"
              aria-describedby="emailHelp"
              placeholder="Enter First Name"
            />
          </div>
          <!-- Info- Photo -->
          <div class="form-group col">
            <label for="lastName">Last Name</label>
            <input
              type="url"
              class="form-control"
              id="lastName"
              placeholder="Enter Last Name"
            />
          </div>
        </div>

        <hr />

        <div class="row">
          <div class="col">
            <div class="form-group pb-2">
              <h5>Question 1:</h5>
              <label for="question1">I enjoy meeting new people</label>
              <select class="form-control w-50" id="question1">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group pb-2">
              <h5>Question 2:</h5>
              <label for="question2"
                >I like helping people or even strangers</label
              >
              <select class="form-control w-50" id="question2">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group pb-2">
              <h5>Question 3:</h5>
              <label for="question3">I often make mistakes</label>
              <select class="form-control w-50" id="question3">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group pb-2">
              <h5>Question 4:</h5>
              <label for="question4">I am easily disappointed</label>
              <select class="form-control w-50" id="question4">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group pb-2">
              <h5>Question 5:</h5>
              <label for="question5">I cannot usually manage my anger</label>
              <select class="form-control w-50" id="question5">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>

          <div class="col">
            <div class="form-group pb-2">
              <h5>Question 6:</h5>
              <label for="question6"
                >I like social gathering or public places</label
              >
              <select class="form-control w-50" id="question6">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group pb-2">
              <h5>Question 7:</h5>
              <label for="question7">I like trying out new activities</label>
              <select class="form-control w-50" id="question7">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group pb-2">
              <h5>Question 8:</h5>
              <label for="question8"
                >I am very considerate of what others feel</label
              >
              <select class="form-control w-50" id="question8">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group pb-2">
              <h5>Question 9:</h5>
              <label for="question9">I usually conceal my feelings</label>
              <select class="form-control w-50" id="question9">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>

            <div class="form-group pb-2">
              <h5>Question 10:</h5>
              <label for="question10">I am nervous before big events</label>
              <select class="form-control w-50" id="question10">
                <option>1 (Strongly Disagree)</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5 (Strongly Agree)</option>
              </select>
            </div>
          </div>
        </div>

        <button
          type="button"
          id="submit"
          class="btn btn-primary mt-4 custom-button"
          data-toggle="modal"
          data-target="#exampleModal"
        >
          Submit
        </button>
      </form>
    </div>

    <!-- Modal -->
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Friend Found</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <h3 class="answer-name text-center"></h3>
            <div class="text-center">
              <img class="answer-photo" src="#">
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      $("#submit").on("click", function() {
        event.preventDefault();

        var information = {
          firstName: $("#firstName").val(),
          lastName: $("#lastName").val(),
          answers: [
            $("#question1").val(),
            $("#question2").val(),
            $("#question3").val(),
            $("#question4").val(),
            $("#question5").val(),
            $("#question6").val(),
            $("#question7").val(),
            $("#question8").val(),
            $("#question9").val(),
            $("#question10").val()
          ]
        };

        $.ajax({
          url: "/api/friends",
          type: "POST",
          contentType: "application/json",
          data: JSON.stringify(information)
        }).done(function(data) {
          $(".answer-name").text(data.name);
          $(".answer-photo").attr("src", data.photo);
        });
      });
    </script>
  </body>
</html>
